# Проект: Описание и запуск

## Описание

Данный проект представляет собой приложение с базой данных PostgreSQL и бэкендом, работающим через Docker. Для запуска проекта используется Docker Compose, который позволяет автоматизировать запуск всех необходимых сервисов, таких как база данных и сервер приложений.

## Требования

- Docker и Docker Compose должны быть установлены на вашем компьютере.
- Наличие `.env` файла с необходимыми переменными окружения.

## Структура файлов

- `docker-compose.yml` — конфигурация для Docker Compose, описывающая сервисы базы данных и бэкенда.
- `.env` — файл с переменными окружения для настройки подключения к базе данных и API.

## Запуск проекта

### 1. Убедитесь, что все порты свободны

Перед запуском проекта убедитесь, что порты, указанные в `docker-compose.yml`, не заняты другими приложениями:

- Порт для базы данных: `5432`
- Порт для бэкенда: `8081`

Для проверки свободности портов на Linux или macOS используйте следующую команду:

```bash
lsof -i :5432
lsof -i :8081
```

### 2. Создайте .env файл

Убедитесь, что у вас есть файл .env с необходимыми переменными окружения. Пример содержимого .env файла:

```bash
API_PORT=8081
API_HOST=http://localhost:
API_URL=http://localhost:8081

POSTGRES_CONNECTION=postgres
POSTGRES_HOST=db_reon
POSTGRES_USER=fra1m
POSTGRES_PASSWORD=100797
POSTGRES_PORT=5432
POSTGRES_DB=db_reon
```

Важно: Все переменные, которые используются в проекте, должны быть определены в файле .env.

### 3. Запуск Docker Compose

В директории проекта, где расположен файл docker-compose.yml, выполните команду для запуска всех сервисов:

```bash
docker-compose up --build
```

Команда `--build` заставит Docker пересобрать контейнеры, если это необходимо.

Или если нужно запустите в фоновом режиме:

```bash
docker-compose up --build -d
```

После первого запуска, если не вносили изменения можете повторно запускать:

```bash
docker-compose up
```

Или

```bash
docker-compose up -d
```

### 4. Проверка работы

После запуска сервисов, ваше приложение будет доступно по следующему адресу:

- Бэкенд API: `http://localhost:8081`
- База данных PostgreSQL: хост `db_reon`, порт `5432`
- Тестировать можно через swagger: `http://localhost:8081/swagger`
- Вы также можете тестировать API с помощью Postman. Обращайтесь к соответствующим эндпоинтам вашего API, передавая параметры в теле запроса, согласно документации в Swagger

Для подключения к базе данных можно использовать любой PostgreSQL клиент с указанием учетных данных, указанных в .env файле.

### 5. Остановка проекта

Для остановки всех контейнеров выполните команду:

```bash
docker-compose down
```
